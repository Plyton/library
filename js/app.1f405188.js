(function(t){function e(e){for(var n,i,a=e[0],l=e[1],c=e[2],f=0,p=[];f<a.length;f++)i=a[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var l=o[a];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/library/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"04d7":function(t,e,o){"use strict";(function(t){var n=o("5530"),r=o("2909"),s=(o("a9e3"),o("a4d3"),o("e01a"),o("4e82"),o("ad26")),i=o("8123"),a=o("2f62");e["a"]={name:"BookShelf",components:{BookShelfItem:s["a"],BookShelfCell:i["a"]},props:{shlefItem:{type:Array,required:!0},shelfNumber:{type:[String,Number],required:!0}},data:function(){return{cellSettings:[{key:"0",class:"",sortable:"",title:"Полка"},{key:"1",class:"fas fa-sort-amount-up-alt pointer scale",sortable:"sort",title:"Автор"},{key:"2",class:"fas fa-sort-amount-up-alt scale",sortable:"sort",title:"Название"},{key:"3",class:"fas fa-trash-restore-alt pointer scale",sortable:"reset",title:"Сброс"},{key:"4",class:"fas fa-plus shelf__spec-add pointer scale",sortable:"add",title:"Добавить"}],defaultShelf:[],shelf:Object(r["a"])(this.shlefItem)}},computed:Object(n["a"])({},Object(a["c"])(["IS_MOBILE"])),created:function(){t.browser&&(window.addEventListener("resize",this.onResize),document.documentElement.clientWidth<600&&this.SET_MOBILE())},mounted:function(){this.defaultShelf=Object(r["a"])(this.shelf)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:Object(n["a"])(Object(n["a"])({},Object(a["b"])(["SET_MOBILE"])),{},{showDescription:function(t,e){this.$parent.blockContentRest?this.$parent.$refs.describe.description={bookInformation:t,bookPosition:e,bookShelf:this.shelf,defaultBookShelf:this.defaultShelf}:this.$parent.$refs.describe.description=null},rotateBook:function(t){this.$parent.blockContentRest?(t.rotateOn=!0,t.rotateOff=!1):(t.rotateOn=!1,t.rotateOff=!0)},sortBooks:function(t){return"Автор"==t?this.shelf.sort((function(t,e){return t.autor>e.autor?1:t.autor<e.autor?-1:0})):"Название"==t?this.shelf.sort((function(t,e){return t.title>e.title?1:t.title<e.title?-1:0})):void 0},resetBooks:function(){this.shelf=Object(r["a"])(this.defaultShelf)},addBook:function(){this.$parent.$refs.form.bookInformation={autor:null,title:null,publication:null,pages:null},this.$parent.$refs.form.bookShelf=this.shelf,this.$parent.$refs.form.defaultBookShelf=this.defaultShelf,this.$parent.$refs.form.formHeader="Добавить",this.$parent.$refs.form.hasError.addError=!1,this.$parent.formOpen=!0}})}}).call(this,o("4362"))},2395:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=o("2f62"),s={state:{isMobile:!1},mutations:{SWITCH_MOBILE:function(t){t.isMobile=!0}},actions:{SET_MOBILE:function(t){var e=t.commit;e("SWITCH_MOBILE")}},getters:{IS_MOBILE:function(t){return t.isMobile}}};n["a"].use(r["a"]);var i=new r["a"].Store({modules:{isMobile:s}}),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-main"},[t._m(0),o("main",[o("div",{class:{"cover-div":t.formOpen||t.modalWindowOpen}}),o("Form",{ref:"form",model:{value:t.formOpen,callback:function(e){t.formOpen=e},expression:"formOpen"}}),o("Model-window",{ref:"modelWindow",model:{value:t.modalWindowOpen,callback:function(e){t.modalWindowOpen=e},expression:"modalWindowOpen"}}),o("section",{staticClass:"shelf"},[o("div",{class:{"block-div":t.blockContentRest}}),o("ul",{staticClass:"shelf__container"},t._l(t.shelves,(function(t,e){return o("BookShelf",{key:e,attrs:{"shlef-item":t,"shelf-number":e+1}})})),1)]),o("BooksDescription",{ref:"describe"})],1),o("footer")])},l=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",[o("span",[t._v("Книжная лавка")])])}],c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{class:t.calcWrapClass},[o("div",{staticClass:"modal-window__content"},[o("h4",{staticClass:"modal-window__content-title"},[t._v("Вы действительно хотите удалить книгу?")]),o("div",{staticClass:"modal-window__content-function"},[o("button",{staticClass:"btn",on:{click:t.removeBook}},[t._v("да")]),o("button",{staticClass:"btn",on:{click:function(e){t.$parent.modalWindowOpen=!1}}},[t._v("нет")])])])])},u=[],f=(o("a4d3"),o("e01a"),{props:{value:{type:Boolean}},computed:{calcWrapClass:function(){return this.value?"modal-window":"display-no"}},methods:{removeBook:function(){this.$parent.$refs.describe.removeBook(this.$parent.$refs.describe.description.bookInformation),this.$parent.modalWindowOpen=!1}}}),p=f,d=o("2877"),h=Object(d["a"])(p,c,u,!1,null,null,null),m=h.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.bookInformation?o("section",{class:t.calcWrapClass},[o("fieldset",{staticClass:"form__container"},[o("h2",{staticClass:"form__title"},[t._v(t._s(t.formHeader))]),o("form",{ref:"formUser",staticClass:"form__content",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.formSubmit.apply(null,arguments)}}},[o("button",{staticClass:"form__content-close",on:{click:t.formClose}},[o("i",{staticClass:"fas fa-times"})]),o("div",{staticClass:"form__content-input"},[o("span",{staticClass:"form__content-title"},[t._v("Автор")]),o("input",{class:t.hasError,attrs:{type:"text",name:"autor",maxlength:"25",placeholder:"введите автора произведения"},domProps:{value:t.bookInformation.autor},on:{focus:function(e){t.hasError.editError=!1,t.hasError.addError=!1},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.formSubmit.apply(null,arguments)}}})]),o("div",{staticClass:"form__content-input"},[o("span",{staticClass:"form__content-title"},[t._v("Название")]),o("input",{class:t.hasError,attrs:{type:"text",name:"title",maxlength:"20",placeholder:"введите название произведения"},domProps:{value:t.bookInformation.title},on:{focus:function(e){t.hasError.editError=!1,t.hasError.addError=!1},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.formSubmit.apply(null,arguments)}}})]),o("div",{staticClass:"form__content-input"},[o("span",{staticClass:"form__content-title"},[t._v("Год")]),o("input",{attrs:{type:"text",name:"publication",maxlength:"4",placeholder:"введите год публикации"},domProps:{value:t.bookInformation.publication},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.formSubmit.apply(null,arguments)}}})]),o("div",{staticClass:"form__content-input"},[o("span",{staticClass:"form__content-title"},[t._v("Страницы")]),o("input",{attrs:{type:"text",name:"pages",maxlength:"10",placeholder:"введите количество страниц"},domProps:{value:t.bookInformation.pages},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.formSubmit.apply(null,arguments)}}})]),o("div",{staticClass:"form__function"},[o("input",{staticClass:"btn",attrs:{type:"submit",value:"Готово"}}),o("input",{staticClass:"btn",attrs:{type:"button",value:"Отмена"},on:{click:t.formClose}})])])])]):t._e()},_=[],k=o("2909"),v=(o("159b"),o("b0c0"),{props:{value:{type:Boolean}},data:function(){return{defaultBookShelf:null,bookShelf:null,bookInformation:null,hasError:{editError:!1,addError:!1},formHeader:null}},computed:{calcWrapClass:function(){return this.value?"form":"display-no"}},methods:{formSubmit:function(){var t=this;for(var e in this.hasError)this.hasError[e]=!1;Object(k["a"])(this.$refs.formUser).forEach((function(e){"autor"!=e.name&&"title"!=e.name||t.formCheсk(e.value)})),this.hasError.editError||this.hasError.addError||(Object(k["a"])(this.$refs.formUser).forEach((function(e){e.name&&(t.bookInformation[e.name]=e.value)})),this.bookShelf&&(this.bookShelf.push(this.bookInformation),this.defaultBookShelf.push(this.bookInformation),this.bookShelf=null,this.defaultBookShelf=null),this.formClose())},formClose:function(){this.$parent.formOpen=!1},"formCheсk":function(t){t||"Редактировать"!=this.formHeader||(this.hasError.editError=!0),t||"Добавить"!=this.formHeader||(this.hasError.addError=!0)}}}),y=v,C=(o("61eb"),Object(d["a"])(y,b,_,!1,null,"e918441a",null)),O=C.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",[o("div",{staticClass:"shelf__book"},t._l(t.shelf,(function(e,n){return o("BookShelfItem",{key:n,attrs:{book:e},on:{describe:t.showDescription,rotate:t.rotateBook}})})),1),o("div",{staticClass:"shelf__spec"},t._l(t.cellSettings,(function(e){return o("BookShelfCell",{key:e.key,attrs:{cell:e,"mobile-version":t.IS_MOBILE,"shelf-number":t.shelfNumber},on:{sort:t.sortBooks,reset:t.resetBooks,add:t.addBook}})})),1)])},E=[],$=o("04d7"),w=$["a"],B=Object(d["a"])(w,S,E,!1,null,null,null),g=B.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"describe"},[o("h2",{staticClass:"describe__title"},[t._v("Информация")]),o("div",{staticClass:"describe__content"},[o("div",{staticClass:"describe__content-autor"},[o("span",[t._v("Автор:")]),t.description?o("span",[t._v(t._s(t.description.bookInformation.autor))]):t._e()]),o("div",{staticClass:"describe__content-name"},[o("span",[t._v("Название:")]),t.description?o("span",[t._v(t._s(t.description.bookInformation.title))]):t._e()]),o("div",{staticClass:"describe__content-year"},[o("span",[t._v("Год издания:")]),t.description?o("span",[t._v(t._s(t.description.bookInformation.publication))]):t._e()]),o("div",{staticClass:"describe__content-page"},[o("span",[t._v("Количество страниц:")]),t.description?o("span",[t._v(t._s(t.description.bookInformation.pages))]):t._e()])]),o("section",{staticClass:"functions"},[o("button",{class:t.calcBtnClass,on:{click:function(e){return t.editBook(t.description)}}},[t._v("Редактировать")]),o("button",{class:t.calcBtnClass,on:{click:function(e){t.description&&(t.$parent.modalWindowOpen=!0)}}},[t._v("Удалить")])])])},x=[],j=(o("a434"),{name:"BooksDescription",data:function(){return{description:null}},computed:{calcBtnClass:function(){return{btn:!0,"functions--opacity":!this.description}}},methods:{editBook:function(t){t&&(this.$parent.$refs.form.hasError.addError=!1,this.$parent.$refs.form.formHeader="Редактировать",this.$parent.$refs.form.bookInformation=t.bookInformation,this.$parent.formOpen=!0)},removeBook:function(t){this.description&&(this.description.bookShelf.splice(this.description.bookShelf.indexOf(t),1),this.description.defaultBookShelf.splice(this.description.bookShelf.indexOf(t),1),this.description.bookPosition.rotateOn=!1,this.description.bookPosition.rotateOff=!1,this.$parent.blockContentRest=!1,this.description=null)}}}),M=j,W=Object(d["a"])(M,I,x,!1,null,null,null),P=W.exports,R={name:"App",components:{BookShelf:g,"Model-window":m,Form:O,BooksDescription:P},data:function(){return{shelves:[[{autor:"Пушкин А. С.",title:'"Евгений Онегин"',publication:"1833",pages:"322"},{autor:"Достоевский Ф. М.",title:'"Идиот"',publication:"1869",pages:"322"},{autor:"Пушкин А. С.",title:'"Капитанская дочка"',publication:"1833",pages:"405"},{autor:"Гоголь Н. В.",title:'"Ревизор"',publication:"2001",pages:"205"}],[{autor:"Чехов А. П.",title:'"Хамелеон"',publication:"2002",pages:"456"},{autor:"Чехов А. П.",title:'"Смерть чиновника"',publication:"1954",pages:"502"},{autor:"Толстой Л. Н.",title:'"После бала"',publication:"1905",pages:"403"},{autor:"Булгаков М. А.",title:'"Морфий"',publication:"1968",pages:"368"},{autor:"Тургенев И. С.",title:'"Отцы и Дети"',publication:"1888",pages:"399"},{autor:"Чехов А. П.",title:'"Вишневый Сад"',publication:"1901",pages:"302"},{autor:"Пушкин А. С.",title:'"Пиковая дама"',publication:"1833",pages:"343"}],[{autor:"Борис Акунин",title:'"Левиафан"',publication:"2018",pages:"250"},{autor:"Жюль Верн",title:'"Верн"',publication:"1999",pages:"408"},{autor:"Джек Лондон",title:'"Белый клык"',publication:"2006",pages:"533"},{autor:"Никколо Макиавелли",title:'"Государь"',publication:"1555",pages:"158"},{autor:"Борис Акунин",title:'"Азазель"',publication:"2015",pages:"248"}]],blockContentRest:!1,formOpen:!1,modalWindowOpen:!1}}},T=R,L=(o("7c55"),Object(d["a"])(T,a,l,!1,null,null,null)),N=L.exports;n["a"].config.productionTip=!1,new n["a"]({store:i,render:function(t){return t(N)}}).$mount("#app")},"61eb":function(t,e,o){"use strict";o("d6a0")},"7a42":function(t,e,o){},"7c55":function(t,e,o){"use strict";o("2395")},8123:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.calcShelCell?o("div",[o("span",{directives:[{name:"show",rawName:"v-show",value:t.calcCellTitle,expression:"calcCellTitle"}]},[t._v(t._s(t.cell.title)+" "+t._s(t.calcShelfNumber))]),o("span",{directives:[{name:"show",rawName:"v-show",value:t.cell.sortable,expression:"cell.sortable"}]},[o("i",{class:t.cell.class,on:{click:function(e){return t.$emit(t.cell.sortable,t.cell.title)}}})])]):t._e()},r=[],s=(o("a9e3"),{name:"BookShelfCell",props:{mobileVersion:{type:Boolean,required:!0,default:!1},cell:{type:Object},shelfNumber:{type:[String,Number]}},computed:{calcShelfNumber:function(){return"Полка"==this.cell.title?"№".concat(this.shelfNumber):null},calcShelCell:function(){return!this.mobileVersion||"Полка"!=this.cell.title},calcCellTitle:function(){return!this.mobileVersion||"Сброс"!=this.cell.title&&"Добавить"!=this.cell.title}}}),i=s,a=o("2877"),l=Object(a["a"])(i,n,r,!1,null,"53e0f71e",null);e["a"]=l.exports},8788:function(t,e,o){"use strict";o("7a42")},ad26:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shelf__book-item pointer",class:t.classRotate,on:{click:function(e){t.$parent.$parent.blockContentRest=!t.$parent.$parent.blockContentRest,t.$emit("describe",t.book,t.classRotate),t.$emit("rotate",t.classRotate)}}},[o("span",{staticClass:"shelf__book-autor"},[t._v(t._s(t.book.autor))]),o("span",{staticClass:"shelf__book-title"},[t._v(t._s(t.book.title))])])},r=[],s={name:"BookShelfItem",props:{book:{type:Object,required:!0}},data:function(){return{classRotate:{rotateOn:!1,rotateOff:!1}}}},i=s,a=(o("8788"),o("2877")),l=Object(a["a"])(i,n,r,!1,null,"9612d48e",null);e["a"]=l.exports},d6a0:function(t,e,o){}});
//# sourceMappingURL=app.1f405188.js.map